# MemoryShellCodeExploit
A exploit using a dynamic compiler (CodeDOM) and TCPListener to run in memory and remotely malicius instructions

![Image of Yaktocat](https://static.thenounproject.com/png/45939-200.png)

# Basic Concept
Evade AV detection using dynamic compiler
### Step 1 - The malware is executed by the victim
### Step 2 - His load C# instructions from  (in string format in this exemple):
  - tcp/ip
  - http rest
  - Unamaged ressources / Managed Ressources
### Step 3 - The malware compile these instructions in memory and evade most AV.
  - To compile he can use:
  - Roslyn (+4.0 Framework)
  - CodeDOM (+2.0 Framework)
  - Mono
# Proof Of Concept
Run a shellcode msgbox over network from a file appenrently trusted.
In my case i have used :
- A TCP Listener on port 444 (Often open in compagny) on the attacker computer
- The C# CodeDOM compiler for most compatibility
- Differents unsafe C# instructions to loading the msgbox shellcode
![Image of Yaktocat](https://i.gyazo.com/43a872f3ae3eafde6d18164ce751e4da.gif)

Detection Ration
- First try 1/37 (Avira threats found)

- Second try 0/37 (No threats found) (I have  make differents manipulation to bypass Avira (Merge, and export sensible code to a library)

- I have also make different manipulation to bypass Avira (Merge, and export sensible code to a library)
